language: java
# specifying other dists doesn't make sense because `trusty` doesn't have `oraclejdk8` (fails due to `Sorry, but JDK '[oraclejdk8]' is not known.`) which is the only supported JDK currently. Testing on Mac OSX doesn't make too much sense since it will run the same `maven` based build routine.

jdk:
- oraclejdk8
- openjdk8
# - openjdk7  (not possible since JSF 2.3 dependency - we need to compile it)

script:
- mvn install -DskipTests=true -Dmaven.javadoc.skip=true --batch-mode --show-version
# add --update-snapshots if snapshots are used
- mvn test verify --batch-mode
# the following command line builds the project, runs the tests with coverage and then execute the SonarCloud analysis
- echo $SONARQUBE_SCANNER_PARAMS mvn clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar

addons:
  sonarcloud:
    organization: "primefaces"
    token:
      secure: "OZJDIcNAtsTJqDj8xKt07iQVtOqe10DxQOCyxaGweClHsb/xXpR/6IZmOC37qElp1EK9+QoTiKcpR+lg18VBRjj+AeZqBCOorxzpM/cvp3LHSSF6uvv9XWm/YBq3zaFmgN1J1hgYt6afw6pMGO4K9WwOqrSsex5ZOqKUuCITWz890ZrQRwcLVxAGKEPHDhnMtoIxRDOI9yjk4rVYsl2KiXZPzSeBqKn737GGkIy8IqtMUfXQzHzI90b8mzLrCHRdzSSVGeeNGCHVQP62fr41vbcfi7ULETY+u6QNIhCBgsY+9iFC/D7GoBaPyYNjRq4LfJ5vjrghh7cVr2QpLjT1aFpmYQLQkrsVDGRR2aUHs7YRi48qYU/NT7Ft8KoOSvAn+TQgaFRfk03OsKXlwRItN1pa/omMkRGXS+f9tHUzo6hmoGPSZp7Oka/8MTl/W1GVVhYR62S7B3g2ga0gALIgcju+rf4p2fIphxDRYrHIBvfNvaVWX4X4bRlAJaB2oHQgv/USfQfA2296meeKlj3Z1vq3NgcJZJ7yFMq/0IsFqUhhFgFQLKdn7G/FKruq66rwe51Wzm95olG7wWsHHZbhSnYNgZUs079VZmN1K2zhXPp08nOvtjUdY8MlPc8owyvkQ5ck2c0AWJOX//ni3KT717Ku8hXCdsB8xdziXkRkjPQ="

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"